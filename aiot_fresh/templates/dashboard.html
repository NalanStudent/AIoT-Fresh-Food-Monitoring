<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - AIoT Fresh</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>

    <header class="header">
        <h1>AIoT Fresh Monitor</h1>
        <div class="header-right">
            <span id="utc-clock" style="margin-right: 15px; font-size: 14px; color: #03dac6;"></span>
            <span id="sync-status"></span>
            <a href="/admin/db">DB Admin</a>
            <a href="/logout">Logout</a>
        </div>
    </header>

    <main class="container" id="devices-container">
        <!-- Device cards will be dynamically inserted here -->
    </main>

    <!-- Modal for editing thresholds -->
    <div id="threshold-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Edit Configuration</h2>
            <form id="threshold-form">
                <div class="threshold-form-item">
                    <label for="food-type">Food Type</label>
                    <input type="text" id="food-type" name="food-type" placeholder="e.g., Bananas, Milk">
                </div>
                <div class="threshold-form-item">
                    <label for="temp-warn">Temperature Warning (&deg;C)</label>
                    <input type="number" step="0.1" id="temp-warn" name="temp-warn">
                </div>
                <div class="threshold-form-item">
                    <label for="temp-crit">Temperature Critical (&deg;C)</label>
                    <input type="number" step="0.1" id="temp-crit" name="temp-crit">
                </div>
                <div class="threshold-form-item">
                    <label for="hum-low">Humidity Warning Low (%)</label>
                    <input type="number" step="0.1" id="hum-low" name="hum-low">
                </div>
                <div class="threshold-form-item">
                    <label for="hum-high">Humidity Warning High (%)</label>
                    <input type="number" step="0.1" id="hum-high" name="hum-high">
                </div>
                <div class="threshold-form-item">
                    <label for="mq4-warn">MQ4 Warning (PPM)</label>
                    <input type="number" step="1" id="mq4-warn" name="mq4-warn">
                </div>
                <div class="threshold-form-item">
                    <label for="mq4-crit">MQ4 Critical (PPM)</label>
                    <input type="number" step="1" id="mq4-crit" name="mq4-crit">
                </div>
                <div class="card-actions">
                    <button type="submit" class="primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>
</html>